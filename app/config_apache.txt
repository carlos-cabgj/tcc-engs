<VirtualHost *:80>
    ServerName cloudunderroof.com
    ServerAdmin webmaster@localhost
    DocumentRoot /tcc-engs/app

    # For√ßar UTF-8
    SetEnv LANG C.UTF-8
    SetEnv LC_ALL C.UTF-8
    SetEnv PYTHONIOENCODING utf-8

    Alias /static /tcc-engs/app/staticfiles
    <Directory /tcc-engs/app/staticfiles>
        Require all granted
        Allow from all
    </Directory>

    Alias /media /tcc-engs/app/media
    <Directory /tcc-engs/app/media>
        Require all granted
        Allow from all
    </Directory>

    <Directory /tcc-engs/app/cloudunderroof>
        <Files wsgi.py>
            Require all granted
            Allow from all
        </Files>
    </Directory>

    WSGIDaemonProcess cloudunderroof python-home=/tcc-engs/app/.venv python-path=/tcc-engs/app/ lang=C.UTF-8 locale=C.UTF-8
    WSGIProcessGroup cloudunderroof
    
    # Permitir todos os headers serem passados para o WSGI
    WSGIPassAuthorization On
    
    WSGIScriptAlias / /tcc-engs/app/cloudunderroof/wsgi.py

    ErrorLog ${APACHE_LOG_DIR}/cloudunderroof_error.log
    CustomLog ${APACHE_LOG_DIR}/cloudunderroof_access.log combined
</VirtualHost>