{% load static %}
   <section class="content-area main-section">
        <div class="coreshelf">
            <video width="640" height="360" controls>
                <source src="{% static 'videos/1.mp4' %}" type="video/mp4">
                Seu navegador não suporta a tag de vídeo.
            </video>
        </div>
        <div class="video-shelf">
            <h3>Prateleira</h3>
   
                <div class="search-bar">
                    <input type="text" placeholder="Search">
                    <button><i class="fas fa-search"></i></button>
                </div>
            <div class="item-grid">
                {% for file in files %}
                <div class="item-card">
                    {% if file.thumbnail %}
                        {% if file.file %}
                            <a href="{{ file.file.url }}">
                                <img src="{{ file.thumbnail.url }}" alt="{{ file.name }}">
                            </a>
                        {% else %}
                            <img src="{{ file.thumbnail.url }}" alt="{{ file.name }}">
                        {% endif %}
                    {% else %}
                        {% if file.file %}
                            <a href="{{ file.file.url }}">
                                <img src="{% static 'img/default-thumbnail.svg' %}" alt="{{ file.name }}">
                            </a>
                        {% else %}
                            <img src="{% static 'img/default-thumbnail.svg' %}" alt="{{ file.name }}">
                        {% endif %}
                    {% endif %}
                    <h4>
                        {% if file.file %}
                            <a href="{{ file.file.url }}">
                                {{ file.name }}
                            </a>
                        {% else %}
                            {{ file.name }}
                        {% endif %}
                    </h4>
                    <p>
                        <small>
                            {% if file.visibility == 'public' %}
                                <i class="fas fa-globe"></i> Público
                            {% elif file.visibility == 'users' %}
                                <i class="fas fa-users"></i> Usuários
                            {% else %}
                                <i class="fas fa-lock"></i> Privado
                            {% endif %}
                            | {{ file.size|filesizeformat }}
                        </small>
                    </p>
                    {% if file.user == request.user %}
                        <i class="fas fa-check-circle check-icon" title="Seu arquivo"></i>
                    {% endif %}
                </div>
                {% empty %}
                <div class="item-card" style="grid-column: 1 / -1; text-align: center; padding: 2rem;">
                    <p>Nenhum arquivo encontrado</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
